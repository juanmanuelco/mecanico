{"version":3,"sources":["../../src/pages/admin-modificar-taller/admin-modificar-taller.module.ts","../../src/pages/admin-modificar-taller/admin-modificar-taller.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AdminModificarTallerPage } from './admin-modificar-taller';\n\n@NgModule({\n  declarations: [\n    AdminModificarTallerPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AdminModificarTallerPage),\n  ],\n})\nexport class AdminModificarTallerPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin-modificar-taller/admin-modificar-taller.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, ModalController, NavParams, AlertController } from 'ionic-angular';\nimport { ImagePicker } from '@ionic-native/image-picker'\nimport { ValidacionesProvider } from '../../providers/validaciones/validaciones';\nimport { HttpProvider } from '../../providers/http/http';\nimport { Geolocation } from '@ionic-native/geolocation';\n\n\n@IonicPage()\n@Component({\n\tselector: 'page-admin-modificar-taller',\n\ttemplateUrl: 'admin-modificar-taller.html',\n})\nexport class AdminModificarTallerPage {\n\tnombre: any;\n\tpicToView: \"assets/imgs/taller.png\"\n\ttxt_taller_nombre\n\ttxt_taller_descripcion\n\ttxt_taller_mail\n\treg_status\n\ttxt_taller_ubicacion\n\ttxt_taller_logo\n\tstatus\n\tidentidad\n\ttxt_taller_identidad\n\tconstructor(\n\t\tpublic navCtrl: NavController,\n\t\tpublic navParams: NavParams,\n\t\tprivate alertCtrl: AlertController,\n\t\tprivate validar: ValidacionesProvider,\n\t\tprivate imagePicker: ImagePicker,\n\t\tprivate http: HttpProvider,\n\t\tpublic modalCtrl: ModalController,\n\t\tprivate geolocation: Geolocation,\n\t) {\n\t\tthis.reg_status = true\n\t\tthis.status = false\n\t}\n\n\tionViewDidLoad() {\n\t\tthis.nombre = this.navParams.get('nombre')\n\t\tthis.picToView = this.navParams.get('imagen')\n\t\tvar ubicacion = this.navParams.get('ubicacion')\n\t\tthis.txt_taller_ubicacion = ubicacion[0] + \"; \" + ubicacion[1]\n\t\tthis.txt_taller_nombre = this.nombre\n\t\tthis.txt_taller_descripcion = this.navParams.get('descripcion')\n\t\tthis.txt_taller_mail = this.navParams.get('mail')\n\t\tthis.txt_taller_identidad = this.navParams.get('identidad')\n\t} \n\tescogerLogotipo() {\n\t\tthis.imagePicker.getPictures({ maximumImagesCount: 1 }).then((results) => {\n\t\t\tthis.picToView = results[0]\n\t\t\tthis.toDataUrl(this.picToView, (myBase64) => {\n\t\t\t\tthis.txt_taller_logo = myBase64.toString()\n\t\t\t});\n\t\t}, (err) => {\n\t\t\tthis.alertCtrl.create({\n\t\t\t\ttitle: this.validar.mensajes('E12').t,\n\t\t\t\tsubTitle: this.validar.mensajes('E12').d,\n\t\t\t\tbuttons: ['Aceptar']\n\t\t\t}).present();\n\t\t});\n\t}\n\ttoDataUrl(url, callback) {\n\t\tvar xhr = new XMLHttpRequest();\n\t\txhr.onload = () => {\n\t\t\tvar reader = new FileReader();\n\t\t\treader.onloadend = () => { callback(reader.result) }\n\t\t\treader.readAsDataURL(xhr.response);\n\t\t};\n\t\txhr.open('GET', url);\n\t\txhr.responseType = 'blob';\n\t\txhr.send();\n\t}\n\tubicar() {\n\t\tvar modal_mapa = this.modalCtrl.create('MapaObtenerPage', {puntos:this.txt_taller_ubicacion})\n\t\tmodal_mapa.onDidDismiss(punto => { this.txt_taller_ubicacion = punto.coordenadas })\n\t\tmodal_mapa.present();\n\t}\n\tguardarTaller() {\n\t\tvar nombre = this.txt_taller_nombre\n\t\tvar descripcion = this.txt_taller_descripcion\n\t\tvar mail = this.txt_taller_mail\n\t\tif (!this.validar.validar_vacios([nombre, descripcion, mail])) {\n\t\t\tthis.alertCtrl.create({\n\t\t\t\ttitle: this.validar.mensajes('E1').t,\n\t\t\t\tsubTitle: this.validar.mensajes('E1').d,\n\t\t\t\tbuttons: ['Aceptar']\n\t\t\t}).present();\n\t\t\treturn;\n\t\t}\n\t\tif (this.validar.validar_correo(mail)) {\n\t\t\tthis.alertCtrl.create({\n\t\t\t\ttitle: this.validar.mensajes('E2').t,\n\t\t\t\tsubTitle: this.validar.mensajes('E2').d,\n\t\t\t\tbuttons: ['Aceptar']\n\t\t\t}).present();\n\t\t\treturn;\n\t\t}\n\t\tthis.completarRegistro(this.txt_taller_logo, this.txt_taller_ubicacion, nombre, descripcion, mail)\n\t}\n\tcompletarRegistro(imagen, ubicacion, nombre, descripcion, mail) {\n\t\tthis.reg_status = false\n\t\tthis.status = true\n\t\tvar postdata = new FormData()\n\t\tpostdata.append('identidad', this.txt_taller_identidad)\n\t\tpostdata.append('logotipo', imagen)\n\t\tpostdata.append('ubicacion', ubicacion)\n\t\tpostdata.append('nombre', nombre)\n\t\tpostdata.append('descripcion', descripcion)\n\t\tpostdata.append('mail', mail)\n\t\tthis.http.modificarTaller(postdata).subscribe((data) => {\n\t\t\tvar resultado = this.validar.mensajes(data.text()).t\n\t\t\tif (resultado == 'Listo') {\n\t\t\t\tthis.alertCtrl.create({\n\t\t\t\t\ttitle: 'Taller actualizado',\n\t\t\t\t\tsubTitle: 'Cambios guardados con exito',\n\t\t\t\t\tbuttons: [{\n\t\t\t\t\t\ttext: 'Aceptar',\n\t\t\t\t\t\trole: 'cancel',\n\t\t\t\t\t\thandler: data => { this.navCtrl.popToRoot() }\n\t\t\t\t\t}]\n\t\t\t\t}).present();\n\t\t\t} else {\n\t\t\t\tthis.alertCtrl.create({\n\t\t\t\t\ttitle: \"Error\",\n\t\t\t\t\tsubTitle: \"Esta imágen es muy pesada\",\n\t\t\t\t\tbuttons: ['Aceptar']\n\t\t\t\t}).present();\n\t\t\t}\n\t\t\tthis.reg_status = true\n\t\t\tthis.status = false\n\t\t}, (error) => {\n\t\t\tthis.alertCtrl.create({\n\t\t\t\ttitle: 'Error',\n\t\t\t\tsubTitle: error.text(),\n\t\t\t\tbuttons: ['Aceptar']\n\t\t\t}).present();\n\t\t\tthis.reg_status = true\n\t\t\tthis.status = false\n\t\t})\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/admin-modificar-taller/admin-modificar-taller.ts"],"sourceRoot":""}